(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{682:function(e,t,r){"use strict";r(72);t.a={data:function(){var e=this;return{valid:!1,rules:{required:function(t){return!!t||e.$t("errorMessages.form.fieldRequired")},confirmPassword:function(t,r){return t===r||e.$t("errorMessages.form.confirmPasswordNotMatch")},isEmail:function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||e.$t("errorMessages.form.addValidEmail")},passwordMinLength:function(t){return t&&t.length>=8||e.$t("errorMessages.form.passwordLength")},isImage:function(t){return!t||!t.type||(t.type.startsWith("image")||e.$t("errorMessages.form.plzUploadImage"))},imageSize:function(t){return!t||!t.size||(t.size<2048e3||e.$t("errorMessages.form.imageSize"))}}}},methods:{validate:function(){this.$refs.form.validate()}}}},686:function(e,t,r){"use strict";r(15),r(12),r(11);var o=r(1),n=(r(52),r(10),r(9),r(178),r(26),r(27),r(6)),l=r(88),c=r(110);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(n.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",(function(t){e.$set(e.errorBag,input._uid,t)}),{immediate:!0})},r={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",(function(o){o&&(e.errorBag.hasOwnProperty(input._uid)||(r.valid=t(input)))})):r.valid=t(input),r},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var e=this.inputs.find((function(i){return i._uid===input._uid}));if(e){var t=this.watchers.find((function(i){return i._uid===e._uid}));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==e._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:f({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},807:function(e,t,r){"use strict";r.r(t);r(15),r(12),r(10),r(9),r(11),r(28);var o=r(8),n=r(1),l=r(68);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={mixins:[r(682).a],data:function(){return{user:{name:"",email:"",role:"",password:""},confirmPassword:"",showPassword:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(l.c)("role",["getRole"])),methods:{register:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs.form.validate(),!e.valid){t.next=12;break}return e.$store.commit("alert/REMOVE_ALERT"),e.$store.commit("loading/SET_LOADING",{option:"auth.register",value:!0}),e.user.role=e.getRole("user")?e.getRole("user")._id:"",t.next=8,e.$axios.post("/api/auth/register",e.user);case 8:e.$store.commit("loading/SET_LOADING",{option:"auth.register",value:!1}),r={type:"success",display:"login-page",show:!0,text:"successMessages.auth.userRegisterd"},e.$store.commit("alert/SET_ALERT",r),e.$router.push("/auth/login");case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),o={type:"error",display:"register-page",show:!0,text:t.t0.response?t.t0.response.data.message:t.t0.message},e.$store.commit("alert/SET_ALERT",o),e.$store.commit("loading/SET_LOADING",{option:"auth.register",value:!1});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})))()}}},f=r(37),m=r(46),h=r.n(m),v=r(84),w=r(103),O=r(78),y=r(428),$=r(660),_=r(686),x=r(105),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-col",{attrs:{cols:"11",md:"4",sm:"6"}},[r("v-card",{staticClass:"py-8 px-5 white black--text"},[r("h1",{staticClass:"text-center"},[e._v(e._s(e.$t("auth.register.heading")))]),e._v(" "),r("v-card-text",[r("base-alert",{attrs:{display:"register-page"}}),e._v(" "),r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.register(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("div",[r("v-text-field",{attrs:{color:"primary","prepend-icon":"mdi-account",label:e.$t("auth.register.form.labels.name"),rules:[e.rules.required],light:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),r("div",[r("v-text-field",{attrs:{color:"primary","prepend-icon":"mdi-email",type:"email",label:e.$t("auth.register.form.labels.email"),rules:[e.rules.required,e.rules.isEmail],light:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),r("div",[r("v-text-field",{attrs:{color:"primary","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:e.$t("auth.register.form.labels.password"),rules:[e.rules.required,e.rules.passwordMinLength],light:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),r("div",[r("v-text-field",{attrs:{color:"primary","prepend-icon":"mdi-lock",type:"password",label:e.$t("auth.register.form.labels.confirmPassword"),rules:[e.rules.required,e.rules.confirmPassword(e.confirmPassword,e.user.password)],light:""},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),e._v(" "),r("div",[r("v-btn",{attrs:{loading:e.$store.state.loading.auth.register,color:"primary",block:"",type:"submit"}},[e._v(e._s(e.$t("auth.register.button.text")))])],1),e._v(" "),r("v-divider")],1),e._v(" "),r("div",{staticClass:"text-center mt-4 black--text"},[e._v("\n        "+e._s(e.$t("auth.register.footerText"))+"\n        "),r("nuxt-link",{attrs:{to:"/auth/login"}},[e._v(e._s(e.$t("auth.register.links.goToLogin")))])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:v.a,VCard:w.a,VCardText:O.b,VCol:y.a,VDivider:$.a,VForm:_.a,VTextField:x.a})}}]);